*关键字：文件描述符、匿名管道、命名管道*

> 1. 匿名管道即常用的'|',命名管道可以使用mkfifo命令创建  
> 2. 特性：如果管道中没有数据，那么取管道数据的操作就会滞留，直到管道内进入数据，然后读出后才会终止这一操作；同理，写入管道的操作如果没有读取管道的操作，这一动作就会滞留。

```
# 创建管道，并关联文件描述符
# 删除管道文件后，因为程序还在运行中，管道还是可用的,此时用lsof |grep $tmpfifo可以看到delete状态的管道文件，等程序运行完结束后，系统会自动清理这个文件
tmpfifo=/tmp/tmp.fifo
mkfifo $tmpfifo
exec 1000<>$tmpfifo
rm -f $tmpfifo
# 先向管道中写入3个空行，控制并发数量，其实此时并没有写入而是等下面的read操作时才实际写入。
for ((i=1;i<=3;i++))
do
 echo "">&1000 &
done
# read -u从文件描述符中读取一行，然后执行相关操作，若读不到则会阻塞在这里，从而实现进程控制
for ((j=1;j<=10;j++))
do
 read -u1000
 {
 sleep 3
 # 执行完成后写回管道
 echo "">&1000
} &
done
wait
```